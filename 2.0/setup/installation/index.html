
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.papermerge.io/2.0/setup/installation/">
      
      
        <link rel="prev" href="../downloading/">
      
      
        <link rel="next" href="../server_configuration/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.3">
    
    
      
        <title>Installation - Papermege DMS</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Papermege DMS" class="md-header__button md-logo" aria-label="Papermege DMS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Papermege DMS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installation
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ciur/papermerge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Papermege DMS" class="md-nav__button md-logo" aria-label="Papermege DMS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Papermege DMS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ciur/papermerge" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User Manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            User Manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user/general-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user/user-interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user/upload-documents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upload Documents
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user/tags-and-folders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tags and Folders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user/page-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Page Management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../user/metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metadata
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Requirements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../downloading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Installation
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#short-version" class="md-nav__link">
    Short Version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-version" class="md-nav__link">
    Detailed Version
  </a>
  
    <nav class="md-nav" aria-label="Detailed Version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-python-and-friends" class="md-nav__link">
    Step 1 - Python and Friends
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-python-virtual-environment" class="md-nav__link">
    Step 2 - Python Virtual Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-manage-command" class="md-nav__link">
    Step 3 - Manage Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-superuser" class="md-nav__link">
    Step 4 - Superuser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-worker" class="md-nav__link">
    Step 5 - Worker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-configurations" class="md-nav__link">
    Step 6 - Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    What's Next?
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../server_configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Server Configurations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../backup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrading
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer's Manual
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#short-version" class="md-nav__link">
    Short Version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-version" class="md-nav__link">
    Detailed Version
  </a>
  
    <nav class="md-nav" aria-label="Detailed Version">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-python-and-friends" class="md-nav__link">
    Step 1 - Python and Friends
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-python-virtual-environment" class="md-nav__link">
    Step 2 - Python Virtual Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-manage-command" class="md-nav__link">
    Step 3 - Manage Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-superuser" class="md-nav__link">
    Step 4 - Superuser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-worker" class="md-nav__link">
    Step 5 - Worker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-configurations" class="md-nav__link">
    Step 6 - Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    What's Next?
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="installation">Installation</h1>
<p>If you follow this document and still have troubles, please open an
<a href="https://github.com/ciur/papermerge/issues">issue on GitHub</a> so I can fill in
the gaps.</p>
<p>This guide is split into two parts: short one and very detailed one.
Short version is meant for people who are comfortable with development tools
like Python, Django, pip, git or even gcc. In this case I will skip most of details
as they will sound boring for such persons.</p>
<p>Detailed is for people who probably heard of Python - as programming
language - but do not have any experience working with it. Any form of prior
programming (in ruby, perl, java, C/C++) experience will help you to grasp the
concepts quicker.</p>
<p>In both versions of this guide you need to know what is a command line
terminal and how to work with it. In general Papermerge is a Linux/Unix based
software. In this guide I will use Ubuntu 20.04 as example, but this
instructions can be adopted easily for any Linux distribution.</p>
<h2 id="short-version">Short Version</h2>
<p>First <a href="../downloading/">download</a> the source code. In this guide we clone latest stable version 1.5.5 into
folder PapermergeDMS (located in home folder):</p>
<pre><code class="language-console">git clone --branch v1.5.5 https://github.com/ciur/papermerge.git  PapermergeDMS
</code></pre>
<ol>
<li>Install required Ubuntu 20.04 LTS deb packages:</li>
</ol>
<pre><code class="language-console">  sudo apt install build-essential \
    python3-pip \
    python3-venv \
    git \
    imagemagick \
    poppler-utils \
    pdftk \
    tesseract-ocr \
    tesseract-ocr-eng \
    tesseract-ocr-deu \
    tesseract-ocr-fra \
    tesseract-ocr-spa
</code></pre>
<ol>
<li>Create python virutal environment and activate it:</li>
</ol>
<pre><code class="language-console">  cd ~/PapermergeDMS
  python3 -m venv .venv --system-site-packages
  source .venv/bin/activate
</code></pre>
<p>Alternatively you can create python virtual environment with command:</p>
<pre><code class="language-console">  virtualenv .venv -p python3.7
</code></pre>
<p>Advantage of last command is that you can specify exact python version.
Papermerge requires python version &gt;= 3.7</p>
<ol>
<li>Install necessary dependencies:</li>
</ol>
<pre><code class="language-console">pip3 install -r requirements/base.txt
</code></pre>
<ol>
<li>Initialize SQLite database with:</li>
</ol>
<pre><code class="language-console">  ./manage.py migrate
</code></pre>
<ol>
<li>Create a user for Papermerge instance:</li>
</ol>
<pre><code class="language-console">./manage.py createsuperuser
</code></pre>
<ol>
<li>Start webserver with:</li>
</ol>
<pre><code class="language-console">  ./manage.py runserver &lt;IP&gt;:&lt;PORT&gt;
</code></pre>
<p>If no specific IP or PORT is given, the default is 127.0.0.1:8000 also known
as http://localhost:8000/.</p>
<ol>
<li>In a separate window, change to the project's root directory again, but
this time, you should start the worker script with:</li>
</ol>
<pre><code class="language-console">  ./manage.py worker
</code></pre>
<h2 id="detailed-version">Detailed Version</h2>
<h3 id="step-1-python-and-friends">Step 1 - Python and Friends</h3>
<p>Papermerge is written in Python. First thing you need to make sure python interpreter is installed.
Ubuntu 20.04 comes with python interpreter already installed.
However, the command to invoke python interpreter is <code>python3</code>:</p>
<pre><code class="language-console">    $ python3 --version
    Python 3.8.2
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Python community now transitions from python2 (which is not maintained
anymore) to python3. This is why in many Linux distributions you can
access python interpreter either with <code>python</code> command or with
<code>python3</code> command.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning<p>Make sure your python is at least version 3.7</p>
</p>
</div>
<p>A close python's friend is <a href="https://pip.pypa.io/en/stable/">pip</a> command. <a href="https://pip.pypa.io/en/stable/">pip</a> is python's package manager.
Similar as with python interpreter story - there might be either pip or <code>pip3</code> - latter is specifically for
python version 3. We will use pip3:</p>
<pre><code class="language-console">  sudo apt install python3-pip
</code></pre>
<p>Make sure it was installed:</p>
<pre><code class="language-console">  pip3 --version
</code></pre>
<pre><code class="language-console">  pip 20.0.2 from /usr/lib/python3/dist-packages/pip (python 3.8)
</code></pre>
<p>Another package which you need to install is <code>python3-venv</code>. This one will be
used in Step 2  we'll learn and setup python virtual environment:</p>
<pre><code class="language-console">  sudo apt install python3-venv
</code></pre>
<p>Although Papermerge is written in python, it uses some special
python modules which are compiled from C sources and used in binary form. This
means that you need <a href="https://gcc.gnu.org/">gcc compiler</a> installed as well.</p>
<p>In Ubuntu 20.04, <code>gcc</code> is available via <code>built-essential</code> package:</p>
<pre><code class="language-console">  sudo apt install build-essential
</code></pre>
<p>Double check that <code>gcc</code> was installed:</p>
<pre><code class="language-console">    $ gcc --version
    gcc (Ubuntu 9.3.0-10ubuntu2) 9.3.0
    Copyright (C) 2019 Free Software Foundation, Inc.
    This is free software; see the source for copying conditions.  There is NO
    warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</code></pre>
<p>Ok, great! We have to install one more utility - <code>git</code>. Strictly speaking,
you don't need <code>git</code>, because you can <a href="download.md">download</a> the tarball and unzip
(or untar or extract) sources. But let's stick with git:</p>
<pre><code class="language-console">sudo apt install git
</code></pre>
<p>Double check that <code>git</code> was installed:</p>
<pre><code class="language-console">$ git --version
  git version 2.25.1
</code></pre>
<p>And now clone the latest stable version of Papermerge directly from GitHub repository:</p>
<pre><code class="language-console">git clone --branch v1.5.5 https://github.com/ciur/papermerge.git  PapermergeDMS
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of writing this - latest stable version of Papermerge is 1.5.5, thus the
argument <code>--branch</code> with respective version. Also, notice that repository was
cloned inside folder named PapermergeDMS, you can choose whatever title for
that folder suites you.</p>
</div>
<p>From now on, I will refer to PapermergeDMS folder as <em>project root</em> or <em>top
level folder of the project</em></p>
<h3 id="step-2-python-virtual-environment">Step 2 - Python Virtual Environment</h3>
<p>Change directory to project's root (folder where you cloned/extracted sources):</p>
<pre><code class="language-console">cd PapermergeDMS
</code></pre>
<p>Our goal in this step is to install python dependencies - like <a href="https://www.djangoproject.com/">Django</a> for example. Most important dependencies - without which project won't start - are listed in <code>requirements/base.txt</code>
(relative to project's root).</p>
<p>The command to do that is as simple as <code>pip install -r
requirements/base.txt</code> - but please don't rush to type it yet. We need to
clarify the concept of python virtual environment first.</p>
<p>If you simply type <code>pip insall -r requirements/base.txt</code> - it will install
packages <strong>system-wide</strong>. A better approach is to install dependencies <strong>per
project</strong>. So, <em>the place</em> designated for python packages specific for this
project is called a <em>virtual environment</em>. Let's create a python virtual
environment and name it <code>.venv</code>:</p>
<pre><code class="language-console">python3 -m venv .venv --system-site-packages
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For virtual environment you can choose whatever name you want. For example
you can choose to name your virtual environment py37, in that case command
will be <code>python3 -m venv py37</code>. However, I chose <em>.venv</em> because in
Unix/Linux dotted folders have special meaning - they are hidden so to
speak.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>--system-site-packages</code> is necessary, it will install a package called <code>wheel</code>.
Without <code>wheel</code> package, pip install later will issue warning.</p>
</div>
<p>Alternatively you can create python virtual environment with following command:</p>
<pre><code class="language-console">virtualenv .venv -p python3.7
</code></pre>
<p>Advantage of last command is that it specifies exact python version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Papermerge requires python version &gt;= 3.7</p>
</div>
<p>Next we need to <em>activate</em> virtual environment:</p>
<pre><code class="language-console">source .venv/bin/activate
</code></pre>
<p>Terminal's prompt (bash - in Ubuntu) will change to indicate that python virtual environment is active.</p>
<p><img alt="active environment" src="../../img/setup/01-active-venv.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Python virtual environment is just a directory where python packages will
be installed. Activating python environment is basically changing your
current <code>PATH</code> variable - this is exactly what <code>source
.venv/bin/activate</code> command does. If you will run <code>echo $PATH</code> you will
notice that <code>PapermergeDMS/.venv/bin</code> is first in path, this means that
python interpreter first of all will look up for its dependencies there.</p>
</div>
<p>And now, with python virtual environment active, let's install Papermerge dependencies:</p>
<pre><code class="language-console">source .venv/bin/activate
</code></pre>
<pre><code class="language-console">pip3 install -r requirements/base.txt
</code></pre>
<p>At this point, all python packages were installed inside directory
<code>.venv/lib/python3.8/site-packages</code> and that directory is first one in your
path.</p>
<h3 id="step-3-manage-command">Step 3 - Manage Command</h3>
<p>Papermerge is based on <a href="https://www.djangoproject.com/">Django Web Framework</a>.
Django provides a <code>manage.py</code> script which is used to run all project related commands.
<code>manage.py</code> script is located in project's root directory.</p>
<p>First let's run migrations:</p>
<pre><code class="language-console">./manage.py migrate
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At this point you will see warnings about missing binary dependencies. We
deal with them little bit later when we will discuss <code>./manage.py check</code>
command.</p>
</div>
<p><em>run migrations</em> - in django's jargon means that you prepare the database. By
default Papermerge (as any Django based project) uses <a href="https://sqlite.org/">sqlite</a>
database - which is stored in a single file.
<code>./manage.py migrate</code> command will create that file (it is called db.sqlite3
and is in project's root directory) and create database schema for the
project.</p>
<p>We are not ready yet, but at this point, you can built-in web server and
access login screen:</p>
<pre><code class="language-console">./manage.py runserver
</code></pre>
<p><code>runserver</code> command will start web server on port <code>8000</code>. You
can access login screen via any web browser by pointing it to
<code>http://localhost:8000/</code></p>
<p><img alt="login screen" src="../../img/setup/02-login-screen.png" /></p>
<p>But as I mentioned, we are not ready yet. First of all, when you run
<code>./manage.py runserver</code> command you probably noticed couple of warnings. To see
if all binary dependencies were installed run following command:</p>
<pre><code class="language-console">./manage.py check
</code></pre>
<p>On freshly installed Ubuntu 20.04 LTS you will see following warnings:</p>
<pre><code class="language-console">    System check identified some issues:

    WARNINGS:
    ?: Papermerge can't find convert. Without it, image resizing is not possible.
            HINT: Either it's not in your PATH or it's not installed.
    ?: Papermerge can't find identify. Without it, it is not possible to count pages in TIFF.
            HINT: Either it's not in your PATH or it's not installed.
    ?: Papermerge can't find tesseract. Without it, OCR of the documents is impossible.
            HINT: Either it's not in your PATH or it's not installed.
    ?: papermerge.conf.py file was found. Following locations attempted /etc/papermerge.conf.py, papermerge.conf.py
            HINT: Create one of those files or point PAPERMERGE_CONFIG environment name to it.

    System check identified 5 issues (0 silenced).
</code></pre>
<p>This means that you need to install all above dependencies. Let's install all
of them in one shot:</p>
<pre><code class="language-console">sudo apt install imagemagick \
    poppler-utils \
    tesseract-ocr \
    tesseract-ocr-eng \
    tesseract-ocr-deu \
    tesseract-ocr-fra \
    tesseract-ocr-spa
</code></pre>
<p>When installation is complete, run check again:</p>
<pre><code class="language-console">./manage.py check
</code></pre>
<pre><code class="language-console">    System check identified some issues:

    WARNINGS:
    ?: papermerge.conf.py file was found. Following locations attempted /etc/papermerge.conf.py, papermerge.conf.py
            HINT: Create one of those files or point PAPERMERGE_CONFIG environment name to it.

    System check identified 1 issue (0 silenced).
</code></pre>
<p>To silence last warning, just create an empty <code>papermerge.conf.py</code> file in project's root,
we will turn our attention to that file little bit later:</p>
<pre><code class="language-console">touch papermerge.conf.py
</code></pre>
<h3 id="step-4-superuser">Step 4 - Superuser</h3>
<p>It's time to create administrative (superuser) user for your Papermerge instance:</p>
<pre><code class="language-console">./manage.py createsuperuser
</code></pre>
<p>The username and password you will type above you will use as login credentials.
So, start server again (in case it is not running):</p>
<pre><code class="language-console">./manage.py runserver
</code></pre>
<p>Point your web browser to <code>http://localhost:8000</code> and use superuser's
username/password to login.</p>
<h3 id="step-5-worker">Step 5 - Worker</h3>
<p>In a separate window, change to the project's root directory again, but this
time, you should start the worker with <code>./manage.py worker</code>.
Remember to activate python virtual environment first:</p>
<pre><code class="language-console">$ cd ~/PapermergeDMS
$ source .venv/bin/activate
$ ./manage.py worker
</code></pre>
<p>Worker is the part which performs ocr process. For correct function of Papermerge you must have both parts
running:</p>
<ul>
<li>main app - the one which you start with <code>./manage.py runserver</code></li>
<li>worker - the one which you start with <code>./manage.py worker</code></li>
</ul>
<p>Now, you can start uploading documents. Remember that only PDF, TIFF, jpeg and
png :ref:<code>file_formats</code> are supported.</p>
<p><img alt="main browser view" src="../../img/setup/03-main-browse-view.png" /></p>
<h3 id="step-6-configurations">Step 6 - Configurations</h3>
<p>By default, you don't need configuration <code>papermerge.conf.py</code> file.
However, if there is no configuration file - Papermerge will issue a warning.
In one of previous steps we created an empty configuration file:</p>
<pre><code class="language-console">    $ cd ~/PapermergeDMS
    $ touch papermerge.conf.py # it is empty now
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>What is the purpose of empty configuration file?</strong> It has one - it raises
awareness of administrator that such file exists. The logic is following -
if administrator created papermerge.conf.py =&gt; Papermerge application
immediately concludes admin is aware of such file and silence the warning
message. Again - it is absolutely OK to leave papermerge.conf.py file
empty.</p>
</div>
<p>By default, in language dropdown menu, two languages will be displayed German and English.
You can change that with following configuration:</p>
<pre><code class="language-Python">    OCR_LANGUAGES = {
        'eng': 'English',
        'deu': 'Deutsch',
        'spa': 'Español',
        'fra': 'Français'
    }
</code></pre>
<p>Now four languages will be displayed in language dropdown.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In previous steps we installed english, spanish, french and german tesseract language
packs (packages named tesseract-ocr-eng, tesseract-ocr-deu, tesseract-ocr-fra, tesseract-ocr-spa).
For each language you want to ocr you need to have tesseract language pack installed.</p>
</div>
<p>Learn more Papermerge configurations in <a href="../settings/">settings</a></p>
<h2 id="whats-next">What's Next?</h2>
<p>Once you’ve tested things and are happy with the work flow, you should secure
the installation and automate the process of starting the webserver and worker.
<a href="server_configurations">server configurations</a> explains different configuration
scenarios of how you can make your bare metal setup - more stable.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020 - 2023 Ciur Eugen, and the Papermerge DMS team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ciur/papermerge" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://papermerge.com" target="_blank" rel="noopener" title="papermerge.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.4c2.2 20.4 3.3 41.8 3.3 64zm28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7zm-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6zM8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zm186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6h116.7zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.6z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "search.highlight", "content.tooltips", "content.code.annotate", "content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.78eede0e.min.js"></script>
      
    
  </body>
</html>