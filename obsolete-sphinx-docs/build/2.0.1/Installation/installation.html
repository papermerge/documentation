<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; Papermerge DMS  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Server Configurations" href="server_configuration.html" />
    <link rel="prev" title="Downloading" href="downloading.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Papermerge DMS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Setup</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="downloading.html">Downloading</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#short-version">Short Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detailed-version">Detailed Version</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-1-python-and-friends">Step 1 - Python and Friends</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-python-virtual-environment">Step 2 - Python Virtual Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-manage-command">Step 3 - Manage Command</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-4-superuser">Step 4 - Superuser</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-5-worker">Step 5 - Worker</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-6-configurations">Step 6 - Configurations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#what-s-next">What’s Next?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="server_configuration.html">Server Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="backup.html">Backup</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html">Upgrading</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Help/index.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../User%27s%20Manual/index.html">User’s Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Contributing/index.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Papermerge DMS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Setup</a> &raquo;</li>
      <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Installation/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline"></a></h1>
<p>If you follow this document and still have troubles, please open an
<a class="reference external" href="https://github.com/ciur/papermerge/issues">issue on GitHub:</a> so I can fill in
the gaps.</p>
<p>This guide is split into two parts: short one and very detailed one.
<a class="reference internal" href="#manual-way-short-version"><span class="std std-ref">Short Version</span></a> is meant for people who are confortable with development tools
like Python, Django, pip, git or even gcc. In this case I will skip most of details
as they will sound boring for such persons.</p>
<p><a class="reference internal" href="#manual-way-detailed-version"><span class="std std-ref">Detailed Version</span></a> is for people who probably heard of Python - as programming
language - but do not have any experience working with it. Any form of prior
programming (in ruby, perl, java, C/C++) experience will help you to grasp the
concepts quicker.</p>
<p>In both versions of this guide you need to know what is a command line
terminal and how to work with it. In general Papermerge is a Linux/Unix based
software. In this guide I will use Ubuntu 20.04 as example, but this
instructions can be adopted easily for any Linux distribution.</p>
<section id="short-version">
<span id="manual-way-short-version"></span><h2>Short Version<a class="headerlink" href="#short-version" title="Permalink to this headline"></a></h2>
<p>First <span class="xref std std-ref">download</span> the sorce code. In this guide we clone latest stable version 1.5.5 into
folder PapermergeDMS (located in home folder):</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Clone repository</span><a class="headerlink" href="#id2" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone --branch v1.5.5 https://github.com/ciur/papermerge.git  PapermergeDMS
</pre></div>
</div>
</div>
<ol class="arabic simple">
<li><p>Install required Ubuntu 20.04 LTS deb packages:</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Install required dependencies</span><a class="headerlink" href="#id3" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install build-essential <span class="se">\</span>
    python3-pip <span class="se">\</span>
    python3-venv <span class="se">\</span>
    git <span class="se">\</span>
    imagemagick <span class="se">\</span>
    poppler-utils <span class="se">\</span>
    pdftk <span class="se">\</span>
    tesseract-ocr <span class="se">\</span>
    tesseract-ocr-eng <span class="se">\</span>
    tesseract-ocr-deu <span class="se">\</span>
    tesseract-ocr-fra <span class="se">\</span>
    tesseract-ocr-spa
</pre></div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Create python virutal environment and activate it:</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Create and activate python virtual environment</span><a class="headerlink" href="#id4" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/PapermergeDMS
$ python3 -m venv .venv --system-site-packages
$ <span class="nb">source</span> .venv/bin/activate
</pre></div>
</div>
</div>
<p>Alternativelly you can create python virtual environment with command:</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Create python virtual environment</span><a class="headerlink" href="#id5" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ virtualenv .venv -p python3.7
</pre></div>
</div>
</div>
<p>Advantage of last command is that you can specify exact python version.
Papermerge requires python version &gt;= 3.7</p>
<ol class="arabic simple" start="3">
<li><p>Install necessary dependencies:</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">Install python dependencies, like Django for example</span><a class="headerlink" href="#id6" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip3 install -r requirements/base.txt
</pre></div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Initialize SQLite database with:</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Run migrations</span><a class="headerlink" href="#id7" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py migrate
</pre></div>
</div>
</div>
<ol class="arabic simple" start="5">
<li><p>Create a user for Papermerge instance:</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">Create superuser/administrative account for web user</span><a class="headerlink" href="#id8" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py createsuperuser
</pre></div>
</div>
</div>
<ol class="arabic simple" start="6">
<li><p>Start webserver with:</p></li>
</ol>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">Run built-in web server</span><a class="headerlink" href="#id9" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py runserver &lt;IP&gt;:&lt;PORT&gt;
</pre></div>
</div>
</div>
<p>If no specific IP or PORT is given, the default is 127.0.0.1:8000 also known
as <a class="reference external" href="http://localhost:8000/">http://localhost:8000/</a>.</p>
<p>7. In a separate window, change to the project’s root directory again, but
this time, you should start the worker script with:</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">Run papermerge worker instance</span><a class="headerlink" href="#id10" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py worker
</pre></div>
</div>
</div>
</section>
<section id="detailed-version">
<span id="manual-way-detailed-version"></span><h2>Detailed Version<a class="headerlink" href="#detailed-version" title="Permalink to this headline"></a></h2>
<section id="step-1-python-and-friends">
<h3>Step 1 - Python and Friends<a class="headerlink" href="#step-1-python-and-friends" title="Permalink to this headline"></a></h3>
<p>Papermerge is written in Python. First thing you need to make sure python interpreter is installed.
Ubuntu 20.04 comes with python interpreter already installed.
However, the command to invoke python interpreter is <code class="docutils literal notranslate"><span class="pre">python3</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">Check python version</span><a class="headerlink" href="#id11" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python3 --version
Python <span class="m">3</span>.8.2
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Python community now transitions from python2 (which is not maintained
anymore) to python3. This is why in many Linux distributions you can
access python interpreter either with <code class="docutils literal notranslate"><span class="pre">python</span></code> command or with
<code class="docutils literal notranslate"><span class="pre">python3</span></code> command.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Make sure your python is at least version 3.7</p>
</div>
<p>A close python’s friend is <a class="reference external" href="https://pip.pypa.io/en/stable/">pip</a> command. <a class="reference external" href="https://pip.pypa.io/en/stable/">pip</a> is python’s package manager.
Similar as with python interpreter story - there might be either pip or <code class="docutils literal notranslate"><span class="pre">pip3</span></code> - latter is specifically for
python version 3. We will use pip3:</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">Install pip3</span><a class="headerlink" href="#id12" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install python3-pip
</pre></div>
</div>
</div>
<p>Make sure it was installed:</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">Make sure pip3 is avilable</span><a class="headerlink" href="#id13" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip3 --version
pip <span class="m">20</span>.0.2 from /usr/lib/python3/dist-packages/pip <span class="o">(</span>python <span class="m">3</span>.8<span class="o">)</span>
</pre></div>
</div>
</div>
<p>Another package which you need to install is <code class="docutils literal notranslate"><span class="pre">python3-venv</span></code>. This one will be
used in Step 2  we’ll learn and setup python virtual environment:</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">Install python’s virtual environment</span><a class="headerlink" href="#id14" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install python3-venv
</pre></div>
</div>
</div>
<p>Although Papermerge is written in python, it uses some <em>special</em>
python modules which are compiled from C sources and used in binary form. This
means that you need <a class="reference external" href="https://gcc.gnu.org/">gcc compiler</a> installed as well.</p>
<p>In Ubuntu 20.04, <code class="docutils literal notranslate"><span class="pre">gcc</span></code> is available via <code class="docutils literal notranslate"><span class="pre">built-essential</span></code> package:</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">Install ubuntu build-essential package</span><a class="headerlink" href="#id15" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install build-essential
</pre></div>
</div>
</div>
<p>Double check that <code class="docutils literal notranslate"><span class="pre">gcc</span></code> was installed:</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">Double check that gcc was installed</span><a class="headerlink" href="#id16" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gcc --version
gcc <span class="o">(</span>Ubuntu <span class="m">9</span>.3.0-10ubuntu2<span class="o">)</span> <span class="m">9</span>.3.0
Copyright <span class="o">(</span>C<span class="o">)</span> <span class="m">2019</span> Free Software Foundation, Inc.
This is free software<span class="p">;</span> see the <span class="nb">source</span> <span class="k">for</span> copying conditions.  There is NO
warranty<span class="p">;</span> not even <span class="k">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</pre></div>
</div>
</div>
<p>Ok, great! We have to install one more utility - <code class="docutils literal notranslate"><span class="pre">git</span></code>. Strictly speaking,
you don’t need <code class="docutils literal notranslate"><span class="pre">git</span></code>, because you can <span class="xref std std-ref">download</span> the tarball and unzip
(or untar or extract) sources. But let’s stick with git:</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">Install git</span><a class="headerlink" href="#id17" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt install git
</pre></div>
</div>
</div>
<p>Double check that <code class="docutils literal notranslate"><span class="pre">git</span></code> was installed:</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">Double check that git was installed</span><a class="headerlink" href="#id18" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git --version
git version <span class="m">2</span>.25.1
</pre></div>
</div>
</div>
<p>And now clone the latest stable version of Papermerge directly from GitHub repository:</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">Clone latest stable release</span><a class="headerlink" href="#id19" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone --branch v1.5.5 https://github.com/ciur/papermerge.git  PapermergeDMS
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of writing this - latest stable version of Papermerge is 1.5.5, thus the argument <code class="docutils literal notranslate"><span class="pre">--branch</span></code>
with respective version. Also, notice that repository was cloned inside folder named PapermergeDMS, you
can choose whatever title for that folder suites you.</p>
</div>
<p>From now on, I will refer to PapermergeDMS folder as <em>project root</em> or <em>top
level folder of the project</em></p>
</section>
<section id="step-2-python-virtual-environment">
<h3>Step 2 - Python Virtual Environment<a class="headerlink" href="#step-2-python-virtual-environment" title="Permalink to this headline"></a></h3>
<p>Change directory to project’s root (folder where you cloned/extracted sources):</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">Change to project’s directory</span><a class="headerlink" href="#id20" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> PapermergeDMS
</pre></div>
</div>
</div>
<p>Our goal in this step is to install python dependencies - like <a class="reference external" href="https://www.djangoproject.com/">Django</a> for example. Most important dependencies -
without which project won’t start - are listed in <code class="docutils literal notranslate"><span class="pre">requirements/base.txt</span></code>
(relative to project’s root).</p>
<p>The command to do that is as simple as <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span>
<span class="pre">requirements/base.txt</span></code> - but please don’t rush to type it yet. We need to
clarify the concept of python virtual environment first.</p>
<p>If you simply type <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">insall</span> <span class="pre">-r</span> <span class="pre">requirements/base.txt</span></code> - it will install
packages <strong>system-wide</strong>. A better approach is to install dependencies <strong>per
project</strong>. So, <em>the place</em> designated for python packages specific for this
project is called a <em>virtual environment</em>. Let’s create a python virtual
environment and name it <code class="docutils literal notranslate"><span class="pre">.venv</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">Create python virtual environment</span><a class="headerlink" href="#id21" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python3 -m venv .venv --system-site-packages
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For virtual environment you can choose whatever name you want. For example
you can choose to name your virtual environment py37, in that case command
will be <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">venv</span> <span class="pre">py37</span></code>. However, I chose <em>.venv</em> because in
Unix/Linux dotted folders have special meaning - they are hidden so to
speak.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">--system-site-packages</span></code> is necessary, it will install a package called <code class="docutils literal notranslate"><span class="pre">wheel</span></code>.
Without <code class="docutils literal notranslate"><span class="pre">wheel</span></code> package, pip install later will issue warning.</p>
</div>
<p>Alternatively you can create python virtual environment with following command:</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">Another way to create python virtual environment</span><a class="headerlink" href="#id22" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ virtualenv .venv -p python3.7
</pre></div>
</div>
</div>
<p>Advantage of last command is that it specifies exact python version.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Papermerge requires python version &gt;= 3.7</p>
</div>
<p>Next we need to <em>activate</em> virtual environment:</p>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">Activate python virtual envitonment</span><a class="headerlink" href="#id23" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">source</span> .venv/bin/activate
</pre></div>
</div>
</div>
<p>Terminal’s prompt (bash - in Ubuntu) will change to indicate that python virtual environment is active.</p>
<figure class="align-default">
<img alt="../_images/01-active-venv.png" src="../_images/01-active-venv.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Python virtual environment is just a directory where python packages will
be installed. Activating python environment is basically changing your
current <code class="docutils literal notranslate"><span class="pre">PATH</span></code> variable - this is exactly what <code class="docutils literal notranslate"><span class="pre">source</span>
<span class="pre">.venv/bin/activate</span></code> command does. If you will run <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">$PATH</span></code> you will
notice that <code class="docutils literal notranslate"><span class="pre">PapermergeDMS/.venv/bin</span></code> is first in path, this means that
python interpreter first of all will look up for its dependencies there.</p>
</div>
<p>And now, with python virtual environment active, let’s install Papermerge dependencies:</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Install python dependencies</span><a class="headerlink" href="#id24" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">source</span> .venv/bin/activate <span class="c1"># a reminder to run this first</span>
$ pip3 install -r requirements/base.txt
</pre></div>
</div>
</div>
<p>At this point, all python packages were installed inside directory
<code class="docutils literal notranslate"><span class="pre">.venv/lib/python3.8/site-packages</span></code> and that directory is first one in your
path.</p>
</section>
<section id="step-3-manage-command">
<h3>Step 3 - Manage Command<a class="headerlink" href="#step-3-manage-command" title="Permalink to this headline"></a></h3>
<p>Papermerge is based on <a class="reference external" href="https://www.djangoproject.com/">Django Web Framework</a>.
Django provides a <code class="docutils literal notranslate"><span class="pre">manage.py</span></code> script which is used to run all project related commands.
<code class="docutils literal notranslate"><span class="pre">manage.py</span></code> script is located in project’s root directory.</p>
<p>First let’s run migrations:</p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">Run migrations</span><a class="headerlink" href="#id25" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py migrate
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At this point you will see warnings about missing binary dependencies. We
deal with them little bit later when we will discuss <code class="docutils literal notranslate"><span class="pre">./manage.py</span> <span class="pre">check</span></code>
command.</p>
</div>
<p><em>run migrations</em> - in django’s jargon means that you prepare the database. By
default Papermerge (as any Django based project) uses <a class="reference external" href="https://sqlite.org/">sqlite</a> database - which is stored in a single file.
<code class="docutils literal notranslate"><span class="pre">./manage.py</span> <span class="pre">migrate</span></code> command will create that file (it is called db.sqlite3
and is in project’s root directory) and create database schema for the
project.</p>
<p>We are not ready yet, but at this point, you can built-in web server and
access login screen:</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">Run builtin web server</span><a class="headerlink" href="#id26" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py runserver
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">runserver</span></code> command will start web server on port <code class="docutils literal notranslate"><span class="pre">8000</span></code>. You
can access login screen via any web browser by pointing it to
<code class="docutils literal notranslate"><span class="pre">http://localhost:8000/</span></code></p>
<figure class="align-default">
<img alt="../_images/02-login-screen.png" src="../_images/02-login-screen.png" />
</figure>
<p>But as I mentioned, we are not ready yet. First of all, when you run
<code class="docutils literal notranslate"><span class="pre">./manage.py</span> <span class="pre">runserver</span></code> command you probably noticed couple of warnings. To see
if all binary dependencies were installed run following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./manage.py check
</pre></div>
</div>
<p>On freshly installed Ubuntu 20.04 LTS you will see following warnings:</p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">Possible warning messages</span><a class="headerlink" href="#id27" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>System check identified some issues:

WARNINGS:
?: Papermerge can&#39;t find convert. Without it, image resizing is not possible.
        HINT: Either it&#39;s not in your PATH or it&#39;s not installed.
?: Papermerge can&#39;t find identify. Without it, it is not possible to count pages in TIFF.
        HINT: Either it&#39;s not in your PATH or it&#39;s not installed.
?: Papermerge can&#39;t find tesseract. Without it, OCR of the documents is impossible.
        HINT: Either it&#39;s not in your PATH or it&#39;s not installed.
?: papermerge.conf.py file was found. Following locations attempted /etc/papermerge.conf.py, papermerge.conf.py
        HINT: Create one of those files or point PAPERMERGE_CONFIG environment name to it.

System check identified 5 issues (0 silenced).
</pre></div>
</div>
</div>
<p>This means that you need to install all above dependencies. Let’s install all
of them in one shot:</p>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">Install tesseract, imagemagick and poppler-utils</span><a class="headerlink" href="#id28" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install imagemagick <span class="se">\</span>
    poppler-utils <span class="se">\</span>
    tesseract-ocr <span class="se">\</span>
    tesseract-ocr-eng <span class="se">\</span>
    tesseract-ocr-deu <span class="se">\</span>
    tesseract-ocr-fra <span class="se">\</span>
    tesseract-ocr-spa
</pre></div>
</div>
</div>
<p>When installation is complete, run check again:</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">Check again for warnings</span><a class="headerlink" href="#id29" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py check

System check identified some issues:

WARNINGS:
?: papermerge.conf.py file was found. Following locations attempted /etc/papermerge.conf.py, papermerge.conf.py
        HINT: Create one of those files or point PAPERMERGE_CONFIG environment name to it.

System check identified <span class="m">1</span> issue <span class="o">(</span><span class="m">0</span> silenced<span class="o">)</span>.
</pre></div>
</div>
</div>
<p>To silence last warning, just create an empty <code class="docutils literal notranslate"><span class="pre">papermerge.conf.py</span></code> file in project’s root,
we will turn our attention to that file little bit later:</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">Create an empty papermerge.com.py file</span><a class="headerlink" href="#id30" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch papermerge.conf.py
</pre></div>
</div>
</div>
</section>
<section id="step-4-superuser">
<h3>Step 4 - Superuser<a class="headerlink" href="#step-4-superuser" title="Permalink to this headline"></a></h3>
<p>It’s time to create administrative (superuser) user for your Papermerge instance:</p>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">Create web administrative user</span><a class="headerlink" href="#id31" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py createsuperuser
</pre></div>
</div>
</div>
<p>The username and password you will type above you will use as login credentials.
So, start server again (in case it is not running):</p>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">Run built-in web server</span><a class="headerlink" href="#id32" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ./manage.py runserver
</pre></div>
</div>
</div>
<p>Point your web browser to <code class="docutils literal notranslate"><span class="pre">http://localhost:8000</span></code> and use superuser’s
username/password to login.</p>
</section>
<section id="step-5-worker">
<h3>Step 5 - Worker<a class="headerlink" href="#step-5-worker" title="Permalink to this headline"></a></h3>
<p>In a separate window, change to the project’s root directory again, but this
time, you should start the worker with <code class="docutils literal notranslate"><span class="pre">./manage.py</span> <span class="pre">worker</span></code>.
Remember to activate python virtual environment first:</p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">Start papermerge worker instance</span><a class="headerlink" href="#id33" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/PapermergeDMS
$ <span class="nb">source</span> .venv/bin/activate
$ ./manage.py worker
</pre></div>
</div>
</div>
<p>Worker is the part which performs <a class="reference internal" href="../User%27s%20Manual/glossary.html#ocr"><span class="std std-ref">OCR</span></a> process. For correct function of Papermerge you must have both parts
running:</p>
<ul class="simple">
<li><p>main app - the one which you start with <code class="docutils literal notranslate"><span class="pre">./manage.py</span> <span class="pre">runserver</span></code></p></li>
<li><p>worker - the one which you start with <code class="docutils literal notranslate"><span class="pre">./manage.py</span> <span class="pre">worker</span></code></p></li>
</ul>
<p>Now, you can start uploading documents. Remember that only PDF, TIFF, jpeg and
png <a class="reference internal" href="../User%27s%20Manual/file_formats.html#file-formats"><span class="std std-ref">File Formats</span></a> are supported.</p>
<figure class="align-default">
<img alt="../_images/03-main-browse-view.png" src="../_images/03-main-browse-view.png" />
</figure>
</section>
<section id="step-6-configurations">
<h3>Step 6 - Configurations<a class="headerlink" href="#step-6-configurations" title="Permalink to this headline"></a></h3>
<p>By default, you don’t need configuration <code class="docutils literal notranslate"><span class="pre">papermerge.conf.py</span></code> file.
However, if there is no configuration file - Papermerge will issue a warning.
In one of previous steps we created an empty configuration file:</p>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">Create empty configuration file</span><a class="headerlink" href="#id34" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/PapermergeDMS
$ touch papermerge.conf.py <span class="c1"># it is empty now</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>What is the purpose of empty configuration file?</strong> It has one - it raises
awareness of administrator that such file exists. The logic is following -
if administrator created papermerge.conf.py =&gt; Papermerge application
immediately concludes admin is aware of such file and silence the warning
message. Again - it is absolutely OK to leave papermerge.conf.py file
empty.</p>
</div>
<p>By default, in language dropdown menu, two languages will be displayed German and English.
You can change that with following configuration:</p>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">Content of papermerge.conf.py</span><a class="headerlink" href="#id35" title="Permalink to this code"></a></div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">OCR_LANGUAGES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;eng&#39;</span><span class="p">:</span> <span class="s1">&#39;English&#39;</span><span class="p">,</span>
    <span class="s1">&#39;deu&#39;</span><span class="p">:</span> <span class="s1">&#39;Deutsch&#39;</span><span class="p">,</span>
    <span class="s1">&#39;spa&#39;</span><span class="p">:</span> <span class="s1">&#39;Español&#39;</span><span class="p">,</span>
    <span class="s1">&#39;fra&#39;</span><span class="p">:</span> <span class="s1">&#39;Français&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Now four languages will be displayed in language dropdown.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In previous steps we installed english, spanish, french and german tesseract language
packs (packages named tesseract-ocr-eng, tesseract-ocr-deu, tesseract-ocr-fra, tesseract-ocr-spa).
For each language you want to <a class="reference internal" href="../User%27s%20Manual/glossary.html#ocr"><span class="std std-ref">OCR</span></a> you need to have tesseract language pack installed.</p>
</div>
<p>Learn more Papermerge configurations in <span class="xref std std-ref">settings</span></p>
</section>
</section>
<section id="what-s-next">
<h2>What’s Next?<a class="headerlink" href="#what-s-next" title="Permalink to this headline"></a></h2>
<p>Once you’ve tested things and are happy with the work flow, you should secure
the installation and automate the process of starting the webserver and
worker. <a class="reference internal" href="server_configuration.html#server-configurations"><span class="std std-ref">Server Configurations</span></a> explains different configuration
scenarios of how you can make your bare metal setup - more stable.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="downloading.html" class="btn btn-neutral float-left" title="Downloading" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="server_configuration.html" class="btn btn-neutral float-right" title="Server Configurations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2023, Papermerge DMS.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: 2.0.1
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../2.0.0/Installation/installation.html">2.0.0</a></dd>
      <dd><a href="installation.html">2.0.1</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../master/index.html">master</a></dd>
      <dd><a href="../../2.0.x/Installation/installation.html">2.0.x</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>